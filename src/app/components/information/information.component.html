<div class="form-container">

    <h2>Application Info</h2>

    <form class="info-form form-grid">

        <div class="form-group full-width">
            <label class="col-label">Action</label>
            <div class="radio-group">

                <div class="pill-wrapper">
                    <input type="radio" id="act-env" name="action" value="envInfo" [(ngModel)]="selectedAction">
                    <label for="act-env" class="pill-label">Environment Info</label>
                </div>

                <div class="pill-wrapper">
                    <input type="radio" id="act-hist" name="action" value="requestHistory" [(ngModel)]="selectedAction">
                    <label for="act-hist" class="pill-label">Request History</label>
                </div>

            </div>
        </div>

        <div class="form-group">
            <label class="col-label">Environment <span class="required">*</span></label>
            <div class="col-input">
                <select [(ngModel)]="selectedEnv" name="environment" [class.input-error]="isSubmitted && !selectedEnv">
                    <option value="">Select environment</option>
                    <option value="SYST">SYST</option>
                    <option value="UAT">UAT</option>
                    <option value="PROD">PROD</option>
                </select>

                @if (isSubmitted && !selectedEnv) {
                <div class="error-msg">Environment is required</div>
                }
            </div>
        </div>

        <div class="form-group">
            <label class="col-label">Application <span class="required">*</span></label>
            <div class="col-input">
                <select [(ngModel)]="selectedApp" name="application" [class.input-error]="isSubmitted && !selectedApp">
                    <option value="">Select application</option>
                    <option value="ivr.war">ivr.war</option>
                    <option value="claims.ear">claims.ear</option>
                </select>

                @if (isSubmitted && !selectedApp) {
                <div class="error-msg">Application is required</div>
                }
            </div>
        </div>

        <div class="form-actions full-width">
            <button type="button" class="deploy-btn" (click)="onSubmit()">
                Submit
                <svg class="btn-icon" viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2"
                    fill="none" stroke-linecap="round" stroke-linejoin="round">
                    <polyline points="9 18 15 12 9 6"></polyline>
                </svg>
            </button>
        </div>

    </form>

    @if (showTable) {
    <app-shared-table [data]="tableData" [columns]="tableCols">
    </app-shared-table>
    }

</div>